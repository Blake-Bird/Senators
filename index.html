<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SGA Senators ‚Äî Role & Group Intake (Even-Date Mondays @ 8 PM)</title>
  <meta name="color-scheme" content="light">
  <style>
    :root{
      --hpu-purple:#4B2E83;
      --hpu-purple-2:#3c236a;
      --hpu-gold:#C9B37E;
      --ink:#121212;
      --bg:#f7f7fb;
      --card:#ffffff;
      --ok:#1aa06d;
      --warn:#e89c2b;
      --err:#cc3a3a;
      --shadow:0 10px 30px rgba(0,0,0,.12);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:linear-gradient(135deg,var(--hpu-purple),var(--hpu-purple-2));
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial;
      color:#111; display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .shell{
      width:min(980px,100%);
    }
    .brand{
      display:flex; gap:16px; align-items:center; color:#fff; margin-bottom:18px;
    }
    .crest{
      width:44px; height:44px; border-radius:12px;
      background:conic-gradient(from 0deg at 50% 50%, var(--hpu-gold), #fff, var(--hpu-gold));
      box-shadow:0 6px 20px rgba(0,0,0,.2); position:relative; overflow:hidden;
    }
    .crest:after{
      content:"HPU"; position:absolute; inset:0; display:grid; place-items:center;
      font-weight:800; letter-spacing:.5px; color:var(--hpu-purple);
      background:rgba(255,255,255,.12); backdrop-filter:saturate(160%) blur(4px);
      font-size:14px;
    }
    .title{font-size:20px; font-weight:800; letter-spacing:.3px}
    .card{
      background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
      padding:20px; display:grid; gap:18px;
      animation:pop .5s ease-out both;
    }
    @keyframes pop{from{transform:translateY(10px); opacity:0} to{transform:translateY(0); opacity:1}}
    h2{margin:0 0 4px 0; font-size:18px; color:var(--hpu-purple)}
    p.note{margin:0; font-size:13px; color:#555}
    .grid{display:grid; gap:12px}
    .grid.cols-2{grid-template-columns:1fr 1fr}
    label{display:block; font-size:13px; color:#333; margin-bottom:6px; font-weight:600}
    input,select{
      width:100%; padding:12px 14px; border-radius:12px; border:1px solid #e5e5ef; background:#fff;
      outline:none; transition:border .15s, box-shadow .15s; font-size:14px;
    }
    input:focus,select:focus{border-color:var(--hpu-purple); box-shadow:0 0 0 4px rgba(75,46,131,.12)}
    .actions{display:flex; gap:12px; align-items:center; justify-content:flex-end; margin-top:6px}
    button{
      appearance:none; border:0; padding:12px 16px; border-radius:12px; font-weight:700; cursor:pointer;
      background:linear-gradient(135deg,var(--hpu-purple),var(--hpu-purple-2)); color:#fff; box-shadow:var(--shadow);
      transition:transform .06s ease-in-out, filter .2s;
    }
    button:hover{filter:saturate(115%) brightness(1.02)}
    button:active{transform:translateY(1px)}
    .chip{display:inline-flex; align-items:center; gap:8px; font-size:12px; padding:8px 10px;
      border-radius:999px; background:#f2eefc; color:var(--hpu-purple); font-weight:700}
    .hide{display:none!important}
    .success, .error{
      border-radius:14px; padding:12px 14px; font-size:14px; line-height:1.3;
    }
    .success{background:#e8f7f0; color:#0c5f42}
    .error{background:#fdeeee; color:#7a1f1f}
    .footer-note{color:#eee; font-size:12px; margin-top:12px; text-align:center}
  </style>
</head>
<body>
  <div class="shell">
    <div class="brand"><div class="crest"></div>
      <div>
        <div class="title">SGA Senators ‚Äî Role & Group Intake</div>
        <div class="chip">Even-date Mondays ‚Ä¢ 8:00 PM ‚Ä¢ Cottrell</div>
      </div>
    </div>

    <form id="form" class="card" novalidate>
      <section>
        <h2>Basics</h2>
        <p class="note">We meet every Monday whose calendar date is even (e.g., Nov&nbsp;10, Nov&nbsp;24). If you can‚Äôt attend, email <b>2029VP@highpoint.edu</b> ‚â•3 days prior.</p>
        <div class="grid cols-2">
          <div>
            <label for="name">Full Name *</label>
            <input id="name" name="name" required placeholder="First Last" />
          </div>
          <div>
            <label for="phone">Phone Number *</label>
            <input id="phone" name="phone" inputmode="tel" required placeholder="(###) ###-####" />
          </div>
        </div>

        <div class="grid cols-2">
          <div>
            <label for="emailSelect">Your @highpoint.edu Email (select) *</label>
            <select id="emailSelect" name="emailSelect" required></select>
          </div>
          <div>
            <label for="email">or type your @highpoint.edu Email *</label>
            <input id="email" name="email" placeholder="netid@highpoint.edu" />
          </div>
        </div>

        <div class="grid cols-2">
          <div>
            <label for="majors">Major(s) / Minor(s) *</label>
            <input id="majors" name="majors" required placeholder="Finance, Data Analytics" />
          </div>
          <div>
            <label for="dream">Dream Job (1‚Äì2 words) *</label>
            <input id="dream" name="dream" required placeholder="Lawyer, Quant, Founder" />
          </div>
        </div>
      </section>

      <section>
        <h2>Attendance</h2>
        <div class="grid">
          <div>
            <label for="attendance">Policy (Even-date Mondays @ 8 PM at Cottrell) *</label>
            <select id="attendance" name="attendance" required>
              <option value="">Select‚Ä¶</option>
              <option>‚úÖ I can attend (mandatory)</option>
              <option>‚ö†Ô∏è I‚Äôll email 2029VP@highpoint.edu ‚â•3 days before if I can‚Äôt</option>
              <option>üö´ I can‚Äôt attend (follow-up needed)</option>
            </select>
          </div>
        </div>
      </section>

      <section>
        <h2>Three Fast Signals</h2>
        <div class="grid cols-2">
          <div>
            <label for="superpower">Pick your everyday superpower *</label>
            <select id="superpower" required>
              <option value="">Select‚Ä¶</option>
              <option>Invisibility</option>
              <option>Super speed</option>
              <option>Telepathy</option>
              <option>Time freeze</option>
              <option>Shape-shift</option>
            </select>
          </div>
          <div>
            <label for="music">Pick your music taste *</label>
            <select id="music" required>
              <option value="">Select‚Ä¶</option>
              <option>2010s Pop Girl</option>
              <option>Rap / Trap</option>
              <option>Oldies / Classic Rock</option>
              <option>Country</option>
              <option>EDM / House</option>
              <option>Classical/Jazz</option>
            </select>
          </div>
        </div>

        <div class="grid">
          <div>
            <label for="firstApp">When you start something, what do you actually open first? *</label>
            <select id="firstApp" required>
              <option value="">Select‚Ä¶</option>
              <option>Messages / DMs</option>
              <option>Instagram / TikTok</option>
              <option>AI (ChatGPT, etc.)</option>
              <option>Calendar</option>
              <option>Starbucks App</option>
            </select>
          </div>
        </div>
      </section>

      <section>
        <h2>Event Lanes (preference)</h2>
        <div class="grid cols-2">
          <div>
            <label for="laneTop">Top event lane *</label>
            <select id="laneTop" required>
              <option value="">Select‚Ä¶</option>
              <option>Social & Experiences</option>
              <option>Wellness & Growth</option>
              <option>Service & Philanthropy</option>
              <option>Academic & Career</option>
              <option>Culture & Traditions</option>
            </select>
          </div>
          <div>
            <label for="laneSecond">Second choice *</label>
            <select id="laneSecond" required>
              <option value="">Select‚Ä¶</option>
              <option>Social & Experiences</option>
              <option>Wellness & Growth</option>
              <option>Service & Philanthropy</option>
              <option>Academic & Career</option>
              <option>Culture & Traditions</option>
            </select>
          </div>
        </div>
      </section>

      <div id="msg" class="success hide"></div>
      <div id="err" class="error hide"></div>

      <div class="actions">
        <button type="submit">Submit</button>
      </div>
    </form>

    <div class="footer-note">High Point University ‚Ä¢ Student Government ‚Ä¢ ¬©</div>
  </div>

  <script>
    /*** CONFIG ***/
    const GAS_ENDPOINT = "PUT_YOUR_APPS_SCRIPT_WEB_APP_URL_HERE"; // <-- paste your Web App URL here

    // Allowed HPU emails (preload dropdown). You can add/remove freely.
    const ALLOWED = [
      "aschult2@highpoint.edu","2029communications@highpoint.edu","abollar@highpoint.edu",
      "bmendivi@highpoint.edu","2029treasurer@highpoint.edu","ckraras@highpoint.edu",
      "2029president@highpoint.edu","evanzego@highpoint.edu","eravenel@highpoint.edu",
      "espurrie@highpoint.edu","gllopis@highpoint.edu","hdaly1@highpoint.edu",
      "jkrumpe@highpoint.edu","jpace@highpoint.edu","kkincai2@highpoint.edu",
      "mreinharr@highpoint.edu","ncastro@highpoint.edu","2029events@highpoint.edu",
      "2029vp@highpoint.edu","tshah1@highpoint.edu","tvanscot@highpoint.edu",
      "lporter2@highpoint.edu"
    ];

    // Populate dropdown:
    const sel = document.getElementById("emailSelect");
    sel.appendChild(new Option("Select‚Ä¶",""));
    ALLOWED.forEach(e => sel.appendChild(new Option(e,e)));

    function getEmail() {
      const typed = (document.getElementById("email").value||"").trim();
      const picked = (document.getElementById("emailSelect").value||"").trim();
      // Prefer explicit pick; fallback to typed
      return picked || typed;
    }

    function isHPU(email){
      return /^[a-z0-9._%+-]+@highpoint\.edu$/i.test(email);
    }

    const formEl = document.getElementById("form");
    const msgEl = document.getElementById("msg");
    const errEl = document.getElementById("err");

    formEl.addEventListener("submit", async (e)=>{
      e.preventDefault(); errEl.classList.add("hide"); msgEl.classList.add("hide");

      const payload = {
        name: val("name"), phone: val("phone"),
        email: getEmail(),
        majors: val("majors"), dream: val("dream"),
        attendance: val("attendance"),
        superpower: val("superpower"),
        music: val("music"),
        firstApp: val("firstApp"),
        laneTop: val("laneTop"),
        laneSecond: val("laneSecond")
      };

      if(!payload.name || !payload.phone || !payload.majors || !payload.dream ||
         !payload.attendance || !payload.superpower || !payload.music ||
         !payload.firstApp || !payload.laneTop || !payload.laneSecond){
        return showErr("Please complete all required fields.");
      }

      if(!isHPU(payload.email)) {
        return showErr("Email must be @highpoint.edu (select from the list or type a valid HPU email).");
      }
      // Optional: force that email be from the allowed list:
      // if(!ALLOWED.includes(payload.email)) return showErr("Please pick your HPU email from the dropdown.");

      try{
        const r = await fetch(GAS_ENDPOINT, {
          method:"POST",
          mode:"no-cors", // Apps Script web app will accept this; response body not accessible but write succeeds
          headers:{"Content-Type":"application/json"},
          body:JSON.stringify(payload)
        });
        showMsg("Thanks! Your response was saved. You‚Äôll see your role & group via the results sheet and email summary.");
        formEl.reset();
        // keep dropdown default as "Select‚Ä¶"
        sel.value="";
      }catch(err){
        showErr("Submission failed. Double-check your connection and try again.");
        console.error(err);
      }
    });

    function val(id){return (document.getElementById(id).value||"").trim();}

    function showMsg(t){msgEl.textContent=t; msgEl.classList.remove("hide"); errEl.classList.add("hide");}
    function showErr(t){errEl.textContent=t; errEl.classList.remove("hide"); msgEl.classList.add("hide");}
  </script>
</body>
</html>
